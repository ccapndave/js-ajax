<!doctype html>

<div id=results>
</div>

<label>Method: <select name=method>
	<option>post<option>
	<option>get<option>
	<option>delete<option>
	<option>head<option>
	<option>put<option>
</select></label>
<label>Wanted response: <select name=url>
	<option>json<option>
	<option>xml<option>
	<option>html<option>
	<option>text<option>
	<option>status-500<option>
</select></label>
<button type=button>Make request</button>

<script src=//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js></script>
<script src=/ajax.js></script>
<script>
$('button').on('click', function() {
	var method = $('[name=method]').val()
	  , url = $('[name=url]').val()
	fajax(
	{ url: '/' + url
	, method: method
	, accept: url == 'json' ? 'application/json' : 'text/plain'
	}).promise.then(function(res) {
		console.log(res.getResponseHeader('content-type'))
		console.log('got response:', res.body)
	})
})
</script>
