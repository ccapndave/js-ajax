<!doctype html>

<div id=results>
</div>

<label>Method: <select name=method>
	<option>post
	<option>get
	<option>delete
	<option>head
	<option>put
</select></label>
<label>Wanted response: <select name=url>
	<option>json
	<option>xml
	<option>html
	<option>text
</select></label>
<button type=button>Make request</button>

<script src=/ajax.js></script>
<script>
$$('button').addEventListener('click', function() {
	var method = $$('[name=method]').value
	  , url = $$('[name=url]').value
	fajax(
	{ url: '/' + url
	, method: method
	, onload: function(res, body) {
		console.log(res.getResponseHeader('content-type'))
		console.log('got response:', res, body)
	}
	})
})

function $(sel, scope) {
	if(typeof(scope) == 'string') {
		scope = $$(scope)
	}
	return Array.prototype.slice.call((scope||document).querySelectorAll(sel))
}
function $$(sel, scope) {
	if(typeof(scope) == 'string') {
		scope = $$(scope)
	}
	return (scope||document).querySelector(sel)
}
</script>
